<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Career Impact Tracker</title>
		<script
			crossorigin
			src="https://unpkg.com/react@18/umd/react.production.min.js"
		></script>
		<script
			crossorigin
			src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
		></script>
		<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
		<script src="https://cdn.tailwindcss.com"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
	</head>
	<body>
		<div id="root"></div>

		<script type="text/babel">
			const { useState, useEffect, useRef } = React;

			// --- Heroicons Components (Solid Style) ---
			// Note: I'm using an adjusted viewBox (24x24) to match the Tailwind utility default.
			const IconWrapper = ({ children, className = "h-5 w-5" }) => (
				<svg
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 24 24"
					fill="currentColor"
					className={className}
				>
					{children}
				</svg>
			);

			const PlusIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path
						fillRule="evenodd"
						d="M12 5.25a.75.75 0 0 1 .75.75v5.25H18a.75.75 0 0 1 0 1.5h-5.25V18a.75.75 0 0 1-1.5 0v-5.25H6a.75.75 0 0 1 0-1.5h5.25V6a.75.75 0 0 1 .75-.75Z"
						clipRule="evenodd"
					/>
				</IconWrapper>
			);

			const TrashIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path
						fillRule="evenodd"
						d="M16.5 4.478v.227a48.842 48.842 0 0 1 3.843.829.75.75 0 1 0 .612-1.352 50.36 50.36 0 0 0-4.442-.924H16.5Zm-4.75 5.25a.75.75 0 0 0-1.5 0v4.5a.75.75 0 0 0 1.5 0v-4.5ZM8.25 9.75a.75.75 0 0 0-1.5 0v4.5a.75.75 0 0 0 1.5 0v-4.5ZM4.5 4.5V2.25H16.5V4.5H4.5Zm-1.5.75c0-1.036.84-1.875 1.875-1.875h11.25c1.036 0 1.875.84 1.875 1.875V6.75h2.25c.414 0 .75.336.75.75v.232a49.333 49.333 0 0 0-6.166-.667.75.75 0 0 0-.583.183l-.715.776a2.25 2.25 0 0 1-3.695-.125l-.105-.386a.75.75 0 0 0-.462-.515c-3.14-.81-4.767-1.166-4.996-1.182a.75.75 0 0 0-.74.743v.198c.197.017 1.25.17 4.25 1.053l.317.094a1.5 1.5 0 0 0 1.29-.058L10.99 7.72c.118-.128.283-.186.446-.16.163.025.31.118.418.26l.487.653a1.5 1.5 0 0 0 1.956.126l.24-.16c.092-.061.196-.089.301-.089h.408c.084 0 .167.01.249.03L20 8.243v10.51a.75.75 0 0 1-.75.75h-15a.75.75 0 0 1-.75-.75V6.75h1.5v-1.5ZM19.25 6.75h-15a.75.75 0 0 0-.75.75v10.5a.75.75 0 0 0 .75.75h15a.75.75 0 0 0 .75-.75V7.5a.75.75 0 0 0-.75-.75ZM15.75 8.25a.75.75 0 0 0 0 1.5h-7.5a.75.75 0 0 0 0-1.5h7.5Z"
						clipRule="evenodd"
					/>
				</IconWrapper>
			);

			const DownloadIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path
						fillRule="evenodd"
						d="M10.5 3.75a.75.75 0 0 0-1.5 0v11.773l-1.95-2.1a.75.75 0 1 0-1.1.98L11.5 17.773a.75.75 0 0 0 1.1 0l3.0-3.26a.75.75 0 1 0-1.1-1.02l-1.95 2.1V3.75Z"
						clipRule="evenodd"
					/>
					<path
						fillRule="evenodd"
						d="M3 17.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75ZM3 21.75a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z"
						clipRule="evenodd"
					/>
				</IconWrapper>
			);

			const UploadIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path
						fillRule="evenodd"
						d="M12 2.25a.75.75 0 0 1 .75.75v11.773l1.95-2.1a.75.75 0 1 0-1.1-.98l-3.0 3.26a.75.75 0 0 0 1.1.98l1.95-2.1V3.75Z"
						clipRule="evenodd"
					/>
					<path
						fillRule="evenodd"
						d="M3 17.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75ZM3 21.75a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z"
						clipRule="evenodd"
					/>
				</IconWrapper>
			);

			const SaveIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path
						fillRule="evenodd"
						d="M7.5 4.5A1.5 1.5 0 0 1 9 3h6a1.5 1.5 0 0 1 1.5 1.5v1.94l-2-.422a1.5 1.5 0 0 0-1.125.132L12 7.82V5.25a.75.75 0 0 0-1.5 0v2.719c.477.106.963.24 1.442.422a1.5 1.5 0 0 0 1.125-.132l.781-.422a.75.75 0 0 0-.672-1.391l-.781.422a.75.75 0 0 1-.562.068c-.378-.063-.758-.135-1.139-.214v-2.19c.677-.074 1.353.076 1.983.422l.142.078a.75.75 0 0 0 .979-1.18l-.142-.078a3 3 0 0 0-3.702-.693H9A1.5 1.5 0 0 1 7.5 4.5Z"
						clipRule="evenodd"
					/>
					<path
						fillRule="evenodd"
						d="M3 9a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V9Zm9 5.25a.75.75 0 0 0-1.5 0v3a.75.75 0 0 0 1.5 0v-3Z"
						clipRule="evenodd"
					/>
				</IconWrapper>
			);
			// Note: I chose ArchiveBoxArrowDownIcon for Backup (Save)

			const FileTextIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path
						fillRule="evenodd"
						d="M15.97 4.25H4.03A2.25 2.25 0 0 0 1.75 6.5v11.5A2.25 2.25 0 0 0 4.03 20h15.94A2.25 2.25 0 0 0 22.25 17.75V8.53a2.25 2.25 0 0 0-.662-1.59l-3.375-3.375A2.25 2.25 0 0 0 15.97 4.25Zm-4.97 6.5a.75.75 0 0 0-1.5 0v.008a.75.75 0 0 0 1.5 0v-.008ZM8.5 13.5a.75.75 0 0 1-.75-.75v-.008a.75.75 0 0 1 1.5 0v.008a.75.75 0 0 1-.75.75Zm4.5 0a.75.75 0 0 1-.75-.75v-.008a.75.75 0 0 1 1.5 0v.008a.75.75 0 0 1-.75.75ZM15.5 13.5a.75.75 0 0 1-.75-.75v-.008a.75.75 0 0 1 1.5 0v.008a.75.75 0 0 1-.75.75ZM8.5 16.5a.75.75 0 0 1-.75-.75v-.008a.75.75 0 0 1 1.5 0v.008a.75.75 0 0 1-.75.75ZM12.5 16.5a.75.75 0 0 1-.75-.75v-.008a.75.75 0 0 1 1.5 0v.008a.75.75 0 0 1-.75.75ZM15.5 16.5a.75.75 0 0 1-.75-.75v-.008a.75.75 0 0 1 1.5 0v.008a.75.75 0 0 1-.75.75Z"
						clipRule="evenodd"
					/>
				</IconWrapper>
			);
			// Note: Used DocumentTextIcon

			const XIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path
						fillRule="evenodd"
						d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z"
						clipRule="evenodd"
					/>
				</IconWrapper>
			);

			const TargetIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path
						fillRule="evenodd"
						d="M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3.75 14.25h6.16c.556 0 1.007.45 1.007 1.007v2.094a.75.75 0 0 0 1.5 0v-2.11a.75.75 0 0 0-.07-.378 2.253 2.253 0 0 0-.661-1.122A2.25 2.25 0 0 0 12 13.5c-1.343 0-2.5.65-3.266 1.637l-.148.176a.75.75 0 0 1-1.171-.987l.147-.175C8.3 12.634 9.914 11.25 12 11.25c2.342 0 4.391 1.45 5.166 3.407l.066.173c.091.233.15.485.168.74V17.25a.75.75 0 0 0 1.5 0V6.75a.75.75 0 0 0-.75-.75h-15a.75.75 0 0 0-.75.75v7.5Z"
						clipRule="evenodd"
					/>
				</IconWrapper>
			);
			// Note: Used RocketLaunchIcon for "Technical Problem-Solving"

			const UsersIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path d="M19 19c.7 0 1.4-.3 1.9-.8s.8-1.2.8-1.9v-2a3.75 3.75 0 0 0-3.75-3.75H8.25A3.75 3.75 0 0 0 4.5 15.25v2c0 .7.3 1.4.8 1.9s1.2.8 1.9.8h11.5ZM12 9a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z" />
				</IconWrapper>
			);
			// Note: Used UsersIcon

			const TrendingUpIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.84c.148-.255.452-.255.6 0l2.365 4.098c.153.265.045.597-.193.75l-4.22 2.722a.666.666 0 0 1-.774-.296l-3.32-5.752a.66.66 0 0 1-.036-.593l.363-.787c.074-.16.223-.298.39-.379l3.32-1.637a.64.64 0 0 1 .64 0l.39.19Z" />
				</IconWrapper>
			);
			// Note: Used ChartBarSquareIcon for "Process Improvement"

			const ClockIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path
						fillRule="evenodd"
						d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 7a.75.75 0 0 0-1.5 0v5.188L9.439 12.83a.75.75 0 0 0 .862 1.15l2.25-1.687a.75.75 0 0 0 .356-.662V7Z"
						clipRule="evenodd"
					/>
				</IconWrapper>
			);
			// Note: Used ClockIcon

			const DollarSignIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path
						fillRule="evenodd"
						d="M12 1.5a.75.75 0 0 0-1.5 0v21a.75.75 0 0 0 1.5 0v-21ZM8.5 6a1.5 1.5 0 0 0-1.5 1.5v6c0 .828.672 1.5 1.5 1.5h7c.828 0 1.5-.672 1.5-1.5v-6a1.5 1.5 0 0 0-1.5-1.5h-7ZM7 7.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-6Z"
						clipRule="evenodd"
					/>
				</IconWrapper>
			);
			// Note: Used BanknotesIcon for "Revenue Impact"

			const DatabaseIcon = ({ className }) => (
				<IconWrapper className={className}>
					<path
						fillRule="evenodd"
						d="M11.5 1.5a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v1.75h-.01a.75.75 0 0 1-.75-.75ZM3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0ZM12 5.25a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5Z"
						clipRule="evenodd"
					/>
				</IconWrapper>
			);

			const ImpactTracker = () => {
				const pdfRef = useRef();

				const defaultImpacts = [
					{
						id: 1,
						date: "2024-09",
						project: "Import Tool Documentation & Training",
						category: "enablement",
						description:
							"Created documentation and trained launch team on internal importing tool",
						metrics:
							"Reduced import requests to tech consultants by ~40%, saving 8-10 hours/week",
						businessValue:
							"Enabled launch team to handle 5+ additional implementations per month without additional headcount",
						skills: [
							"Technical writing",
							"Training delivery",
							"Process improvement",
						],
					},
				];

				const availableSkills = [
					"SQL",
					"Data analysis",
					"Looker",
					"Analytics",
					"Technical writing",
					"Training delivery",
					"Process improvement",
					"Stakeholder management",
					"Project management",
					"Problem-solving",
					"Documentation",
					"Customer success",
					"Cross-functional collaboration",
					"Requirements gathering",
					"System configuration",
					"Troubleshooting",
					"Data visualization",
					"Business analysis",
					"Product analytics",
					"Communication",
				];

				const [impacts, setImpacts] = useState(() => {
					const saved = localStorage.getItem("careerImpacts");
					return saved ? JSON.parse(saved) : defaultImpacts;
				});

				const [newImpact, setNewImpact] = useState({
					date: "",
					project: "",
					category: "technical",
					description: "",
					metrics: "",
					businessValue: "",
					skills: [],
				});

				const [saveMessage, setSaveMessage] = useState("");
				const [customSkill, setCustomSkill] = useState("");

				useEffect(() => {
					localStorage.setItem("careerImpacts", JSON.stringify(impacts));
					if (impacts.length > 0) {
						setSaveMessage("‚úì Auto-saved");
						setTimeout(() => setSaveMessage(""), 2000);
					}
				}, [impacts]);

				const categories = {
					technical: {
						label: "Technical Problem-Solving",
						icon: TargetIcon,
						color: "bg-blue-100 text-blue-700",
					},
					enablement: {
						label: "Training & Enablement",
						icon: UsersIcon,
						color: "bg-green-100 text-green-700",
					},
					process: {
						label: "Process Improvement",
						icon: TrendingUpIcon,
						color: "bg-purple-100 text-purple-700",
					},
					efficiency: {
						label: "Time/Cost Savings",
						icon: ClockIcon,
						color: "bg-orange-100 text-orange-700",
					},
					revenue: {
						label: "Revenue Impact",
						icon: DollarSignIcon,
						color: "bg-emerald-100 text-emerald-700",
					},
					data: {
						label: "Data Quality & Governance",
						icon: DatabaseIcon,
						color: "bg-blue-100 text-blue-700",
					},
				};

				const addImpact = () => {
					if (newImpact.project && newImpact.description) {
						setImpacts([...impacts, { ...newImpact, id: Date.now() }]);
						setNewImpact({
							date: "",
							project: "",
							category: "technical",
							description: "",
							metrics: "",
							businessValue: "",
							skills: [],
						});
					}
				};

				const deleteImpact = (id) => {
					if (confirm("Are you sure you want to delete this impact?")) {
						setImpacts(impacts.filter((i) => i.id !== id));
					}
				};

				const toggleSkill = (skill) => {
					setNewImpact((prev) => ({
						...prev,
						skills: prev.skills.includes(skill)
							? prev.skills.filter((s) => s !== skill)
							: [...prev.skills, skill],
					}));
				};

				const addCustomSkill = () => {
					if (
						customSkill.trim() &&
						!newImpact.skills.includes(customSkill.trim())
					) {
						setNewImpact((prev) => ({
							...prev,
							skills: [...prev.skills, customSkill.trim()],
						}));
						setCustomSkill("");
					}
				};

				const removeSkill = (skill) => {
					setNewImpact((prev) => ({
						...prev,
						skills: prev.skills.filter((s) => s !== skill),
					}));
				};

				const exportToText = () => {
					const text = impacts
						.map(
							(i) =>
								`${i.date} - ${i.project}\n` +
								`Category: ${categories[i.category].label}\n` +
								`Description: ${i.description}\n` +
								`Metrics: ${i.metrics}\n` +
								`Business Value: ${i.businessValue}\n` +
								`Skills Used: ${
									Array.isArray(i.skills) ? i.skills.join(", ") : i.skills
								}\n` +
								`---\n`
						)
						.join("\n");

					const blob = new Blob([text], { type: "text/plain" });
					const url = URL.createObjectURL(blob);
					const a = document.createElement("a");
					a.href = url;
					a.download = `career-impact-log-${
						new Date().toISOString().split("T")[0]
					}.txt`;
					a.click();
				};

				const exportToPDF = () => {
					if (typeof html2pdf === "undefined") {
						alert(
							"PDF library is still loading. Please wait a moment and try again."
						);
						return;
					}

					const element = pdfRef.current;

					// Clone the element to avoid modifying the display
					const clone = element.cloneNode(true);

					// Remove delete buttons from clone
					const buttons = clone.querySelectorAll("button");
					buttons.forEach((btn) => btn.remove());

					const opt = {
						margin: 0.5,
						filename: `career-impact-portfolio-${
							new Date().toISOString().split("T")[0]
						}.pdf`,
						image: { type: "jpeg", quality: 0.98 },
						html2canvas: {
							scale: 2,
							useCORS: true,
							logging: false,
							backgroundColor: "#f9fafb",
						},
						jsPDF: { unit: "in", format: "letter", orientation: "portrait" },
					};

					setSaveMessage("‚è≥ Generating PDF...");

					html2pdf()
						.set(opt)
						.from(clone)
						.save()
						.then(() => {
							setSaveMessage("‚úì PDF downloaded!");
							setTimeout(() => setSaveMessage(""), 3000);
						})
						.catch((err) => {
							console.error("PDF generation error:", err);
							setSaveMessage("‚ùå PDF generation failed");
							setTimeout(() => setSaveMessage(""), 3000);
						});
				};

				const backupToFile = () => {
					const dataStr = JSON.stringify(impacts, null, 2);
					const blob = new Blob([dataStr], { type: "application/json" });
					const url = URL.createObjectURL(blob);
					const a = document.createElement("a");
					a.href = url;
					a.download = `impact-tracker-backup-${
						new Date().toISOString().split("T")[0]
					}.json`;
					a.click();
					setSaveMessage("‚úì Backup saved to Downloads");
					setTimeout(() => setSaveMessage(""), 3000);
				};

				const restoreFromFile = (event) => {
					const file = event.target.files[0];
					if (file) {
						const reader = new FileReader();
						reader.onload = (e) => {
							try {
								const data = JSON.parse(e.target.result);
								if (Array.isArray(data)) {
									setImpacts(data);
									setSaveMessage("‚úì Data restored successfully");
									setTimeout(() => setSaveMessage(""), 3000);
								} else {
									alert("Invalid file format");
								}
							} catch (error) {
								alert("Error reading file: " + error.message);
							}
						};
						reader.readAsText(file);
					}
					event.target.value = "";
				};

				return (
					<div className="max-w-6xl mx-auto p-6 bg-gray-50 min-h-screen">
						<div className="mb-8">
							<div className="flex justify-between items-start">
								<div>
									<h1 className="text-3xl font-bold text-gray-800 mb-2">
										Career Impact Tracker
									</h1>
									<p className="text-gray-600">
										Document your wins, quantify your value, and build your
										career story.
									</p>
								</div>
								{saveMessage && (
									<div className="text-green-600 text-sm font-medium bg-green-50 px-3 py-2 rounded">
										{saveMessage}
									</div>
								)}
							</div>
						</div>

						<div className="bg-white rounded-lg shadow-md p-6 mb-6">
							<h2 className="text-xl font-semibold mb-4 flex items-center gap-2">
								<PlusIcon />
								Add New Impact
							</h2>
							<div className="grid grid-cols-1 md:grid-cols-2 gap-4">
								<div>
									<label className="block text-sm font-medium text-gray-700 mb-1">
										Date
									</label>
									<input
										type="month"
										className="w-full px-3 py-2 border border-gray-300 rounded-md"
										value={newImpact.date}
										onChange={(e) =>
											setNewImpact({ ...newImpact, date: e.target.value })
										}
									/>
								</div>
								<div>
									<label className="block text-sm font-medium text-gray-700 mb-1">
										Category
									</label>
									<select
										className="w-full px-3 py-2 border border-gray-300 rounded-md"
										value={newImpact.category}
										onChange={(e) =>
											setNewImpact({ ...newImpact, category: e.target.value })
										}
									>
										{Object.entries(categories).map(([key, val]) => (
											<option key={key} value={key}>
												{val.label}
											</option>
										))}
									</select>
								</div>
								<div className="md:col-span-2">
									<label className="block text-sm font-medium text-gray-700 mb-1">
										Project/Initiative Name
									</label>
									<input
										type="text"
										placeholder="e.g., Jira Heat Map Creation"
										className="w-full px-3 py-2 border border-gray-300 rounded-md"
										value={newImpact.project}
										onChange={(e) =>
											setNewImpact({ ...newImpact, project: e.target.value })
										}
									/>
								</div>
								<div className="md:col-span-2">
									<label className="block text-sm font-medium text-gray-700 mb-1">
										What You Did
									</label>
									<textarea
										placeholder="Describe the action you took..."
										className="w-full px-3 py-2 border border-gray-300 rounded-md"
										rows="2"
										value={newImpact.description}
										onChange={(e) =>
											setNewImpact({
												...newImpact,
												description: e.target.value,
											})
										}
									/>
								</div>
								<div className="md:col-span-2">
									<label className="block text-sm font-medium text-gray-700 mb-1">
										Quantifiable Metrics
									</label>
									<textarea
										placeholder="e.g., Reduced tickets by 25%, saved 10 hours/week, trained 8 team members..."
										className="w-full px-3 py-2 border border-gray-300 rounded-md"
										rows="2"
										value={newImpact.metrics}
										onChange={(e) =>
											setNewImpact({ ...newImpact, metrics: e.target.value })
										}
									/>
								</div>
								<div className="md:col-span-2">
									<label className="block text-sm font-medium text-gray-700 mb-1">
										Business Value / Impact
									</label>
									<textarea
										placeholder="Why it mattered to the company: prevented churn, enabled scaling, improved customer satisfaction..."
										className="w-full px-3 py-2 border border-gray-300 rounded-md"
										rows="2"
										value={newImpact.businessValue}
										onChange={(e) =>
											setNewImpact({
												...newImpact,
												businessValue: e.target.value,
											})
										}
									/>
								</div>
								<div className="md:col-span-2">
									<label className="block text-sm font-medium text-gray-700 mb-2">
										Skills Demonstrated
									</label>

									{newImpact.skills.length > 0 && (
										<div className="flex flex-wrap gap-2 mb-3">
											{newImpact.skills.map((skill) => (
												<span
													key={skill}
													className="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm flex items-center gap-1"
												>
													{skill}
													<button
														onClick={() => removeSkill(skill)}
														className="hover:text-blue-900"
													>
														<XIcon />
													</button>
												</span>
											))}
										</div>
									)}

									<div className="flex flex-wrap gap-2 mb-3">
										{availableSkills
											.filter((s) => !newImpact.skills.includes(s))
											.map((skill) => (
												<button
													key={skill}
													onClick={() => toggleSkill(skill)}
													className="bg-gray-100 hover:bg-blue-100 text-gray-700 hover:text-blue-700 px-3 py-1 rounded-full text-sm transition-colors"
												>
													+ {skill}
												</button>
											))}
									</div>

									<div className="flex gap-2">
										<input
											type="text"
											placeholder="Add custom skill..."
											className="flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"
											value={customSkill}
											onChange={(e) => setCustomSkill(e.target.value)}
											onKeyPress={(e) =>
												e.key === "Enter" &&
												(e.preventDefault(), addCustomSkill())
											}
										/>
										<button
											onClick={addCustomSkill}
											className="px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-sm"
										>
											Add
										</button>
									</div>
								</div>
							</div>
							<button
								onClick={addImpact}
								className="mt-4 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-2"
							>
								<PlusIcon />
								Add Impact
							</button>
						</div>

						<div className="mb-6 flex flex-wrap justify-between items-center gap-3">
							<h2 className="text-xl font-semibold">
								Your Impact Log ({impacts.length})
							</h2>
							<div className="flex flex-wrap gap-2">
								<button
									onClick={exportToPDF}
									className="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center gap-2 text-sm"
								>
									<FileTextIcon />
									Export PDF
								</button>
								<button
									onClick={exportToText}
									className="px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 flex items-center gap-2 text-sm"
								>
									<DownloadIcon />
									Export Text
								</button>
								<button
									onClick={backupToFile}
									className="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center gap-2 text-sm"
								>
									<SaveIcon />
									Backup Data
								</button>
								<label className="px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 flex items-center gap-2 text-sm cursor-pointer">
									<UploadIcon />
									Restore Data
									<input
										type="file"
										accept=".json"
										onChange={restoreFromFile}
										className="hidden"
									/>
								</label>
							</div>
						</div>

						<div ref={pdfRef} className="space-y-4">
							{impacts.map((impact) => {
								const CategoryIcon = categories[impact.category].icon;
								const skillsArray = Array.isArray(impact.skills)
									? impact.skills
									: typeof impact.skills === "string"
									? impact.skills.split(",").map((s) => s.trim())
									: [];

								return (
									<div
										key={impact.id}
										className="bg-white rounded-lg shadow-md p-6"
									>
										<div className="flex justify-between items-start mb-3">
											<div className="flex items-start gap-3 flex-1">
												<span
													className={`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1 ${
														categories[impact.category].color
													}`}
												>
													<CategoryIcon />
													{categories[impact.category].label}
												</span>
												<div className="flex-1">
													<h3 className="font-semibold text-lg text-gray-800">
														{impact.project}
													</h3>
													<p className="text-sm text-gray-500">{impact.date}</p>
												</div>
											</div>
											<button
												onClick={() => deleteImpact(impact.id)}
												className="text-red-500 hover:text-red-700 p-1 print:hidden"
											>
												<TrashIcon />
											</button>
										</div>

										<div className="space-y-3">
											<div>
												<p className="text-sm font-medium text-gray-700 mb-1">
													What You Did:
												</p>
												<p className="text-gray-600">{impact.description}</p>
											</div>

											{impact.metrics && (
												<div>
													<p className="text-sm font-medium text-gray-700 mb-1">
														Metrics:
													</p>
													<p className="text-gray-600">{impact.metrics}</p>
												</div>
											)}

											{impact.businessValue && (
												<div>
													<p className="text-sm font-medium text-gray-700 mb-1">
														Business Value:
													</p>
													<p className="text-gray-600">
														{impact.businessValue}
													</p>
												</div>
											)}

											{skillsArray.length > 0 && (
												<div>
													<p className="text-sm font-medium text-gray-700 mb-2">
														Skills:
													</p>
													<div className="flex flex-wrap gap-2">
														{skillsArray.map((skill) => (
															<span
																key={skill}
																className="bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs"
															>
																{skill}
															</span>
														))}
													</div>
												</div>
											)}
										</div>
									</div>
								);
							})}
						</div>

						<div className="mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6">
							<h3 className="font-semibold text-blue-900 mb-3">
								üí° How Your Data is Saved
							</h3>
							<ul className="space-y-2 text-sm text-blue-800">
								<li>
									<strong>Auto-save:</strong> Your data is automatically saved
									to your browser as you work
								</li>
								<li>
									<strong>Export PDF:</strong> Download a beautifully formatted
									PDF portfolio of all your impacts
								</li>
								<li>
									<strong>Backup Data:</strong> Download a backup file you can
									save to cloud storage
								</li>
								<li>
									<strong>Restore Data:</strong> Upload a previous backup to
									restore or transfer your data
								</li>
								<li>
									<strong>Export Text:</strong> Get a plain text version for
									copying into documents
								</li>
							</ul>
						</div>

						<div className="mt-4 bg-green-50 border border-green-200 rounded-lg p-6">
							<h3 className="font-semibold text-green-900 mb-3">
								üìù Tips for Tracking Impact
							</h3>
							<ul className="space-y-2 text-sm text-green-800">
								<li>
									<strong>Track as you go:</strong> Add entries right after
									completing something notable
								</li>
								<li>
									<strong>Use the date picker:</strong> Select the month you
									completed the work
								</li>
								<li>
									<strong>Tag your skills:</strong> Click skill buttons to
									quickly add them, or type custom ones
								</li>
								<li>
									<strong>Export PDF monthly:</strong> Keep updated portfolios
									for performance reviews
								</li>
								<li>
									<strong>Backup regularly:</strong> Click "Backup Data" monthly
									to protect your work
								</li>
							</ul>
						</div>
					</div>
				);
			};

			ReactDOM.render(<ImpactTracker />, document.getElementById("root"));
		</script>
	</body>
</html>
